(()=>{"use strict";var n={365:(n,e,t)=>{t.d(e,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([n.id,':root {\n  --primary-color: #f8e1e7;\n  --secondary-color: #b0e0e6;\n  --accent-color: #ffd700;\n  --text-color: #4a4a4a;\n  --background-color: #fff5ee;\n}\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  font-family: "Playfair Display", serif;\n  line-height: 1.6;\n  color: var(--text-color);\n  background-color: var(--background-color);\n}\n\nheader {\n  background: linear-gradient(\n    to right,\n    var(--primary-color),\n    var(--secondary-color)\n  );\n  color: var(--text-color);\n  padding: 1rem;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1000;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n  transition: background-color 0.3s ease, box-shadow 0.3s ease;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\nheader h1 {\n  margin: 0;\n  font-size: 1.5rem;\n}\n\nheader.scrolled {\n  background-color: rgba(248, 225, 231, 0.9);\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n}\n\nsearch-bar {\n  display: block;\n  width: 300px;\n}\n\n.search-bar input {\n  width: 100%;\n  padding: 0.5rem;\n  border: 1px solid var(--secondary-color);\n  border-radius: 20px;\n  font-family: inherit;\n  transition: border-color 0.3s ease;\n}\n\n.search-bar input:focus {\n  outline: none;\n  border-color: var(--accent-color);\n}\n\nmain {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 2rem;\n  padding-top: calc(\n    120px + 2rem\n  );\n}\n\nfooter {\n  background: linear-gradient(\n    to right,\n    var(--primary-color),\n    var(--secondary-color)\n  );\n  color: var(--text-color);\n  text-align: center;\n  padding: 1rem;\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n}\n\n.note-list {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 1rem;\n  margin-top: 2rem;\n}\n\n.note-item {\n  background-color: white;\n  border-radius: 12px;\n  padding: 1rem;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\n.note-item:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);\n}\n\n.note-item h3 {\n  color: var(--secondary-color);\n  margin-bottom: 0.5rem;\n}\n\n.note-item p {\n  margin-bottom: 0.5rem;\n}\n\n.note-item button {\n  background-color: var(--accent-color);\n  border: none;\n  padding: 0.5rem 1rem;\n  margin-right: 0.5rem;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: background-color 0.3s ease, transform 0.3s ease,\n    box-shadow 0.3s ease;\n}\n\n.note-item button:hover,\nform button:hover {\n  background-color: #e6c200;\n  transform: translateY(-2px);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\nadd-note-form {\n  display: block;\n  margin-bottom: 2rem;\n}\n\nform {\n  display: flex;\n  flex-direction: column;\n  max-width: 500px;\n  margin: 0 auto;\n}\n\nform input,\nform textarea {\n  margin-bottom: 1rem;\n  padding: 0.5rem;\n  border: 1px solid var(--secondary-color);\n  border-radius: 8px;\n  font-family: inherit;\n  transition: border-color 0.3s ease;\n}\n\nform input:focus,\nform textarea:focus {\n  outline: none;\n  border-color: var(--accent-color);\n}\n\nform button {\n  background-color: var(--secondary-color);\n  color: var(--text-color);\n  border: none;\n  padding: 0.5rem;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: background-color 0.3s ease, transform 0.3s ease,\n    box-shadow 0.3s ease;\n}\n\nform button:hover {\n  background-color: #9eccd2;\n  transform: translateY(-2px);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n.error {\n  color: #ff6b6b;\n  font-size: 0.8rem;\n  margin-top: -0.5rem;\n  margin-bottom: 0.5rem;\n}\n\nh2 {\n  color: var(--secondary-color);\n  margin-top: 2rem;\n  margin-bottom: 1rem;\n}\n\n#archivedNotes .note-list {\n  opacity: 0.7;\n}\n\n@media (max-width: 768px) {\n  header {\n    flex-direction: column;\n    align-items: stretch;\n  }\n\n  search-bar {\n    width: 100%;\n    margin-top: 1rem;\n  }\n\n  main {\n    padding-top: calc(160px + 2rem); /* Adjusted for mobile */\n  }\n}\n',""]);const s=i},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,o,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(i[d]=!0)}for(var c=0;c<n.length;c++){var l=[].concat(n[c]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},601:n=>{n.exports=function(n){return n[1]}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var a={},i=[],s=0;s<n.length;s++){var d=n[s],c=r.base?d[0]+r.base:d[0],l=a[c]||0,u="".concat(c," ").concat(l);a[c]=l+1;var m=t(u),p={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==m)e[m].references++,e[m].updater(p);else{var h=o(p,r);r.byIndex=s,e.splice(s,0,{identifier:u,updater:h,references:1})}i.push(u)}return i}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var a=r(n=n||[],o=o||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var s=t(a[i]);e[s].references--}for(var d=r(n,o),c=0;c<a.length;c++){var l=t(a[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=d}}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return n[r](a,a.exports,t),a.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;const r="https://notes-api.dicoding.dev/v2";var o=t(72),a=t.n(o),i=t(825),s=t.n(i),d=t(659),c=t.n(d),l=t(56),u=t.n(l),m=t(540),p=t.n(m),h=t(113),b=t.n(h),f=t(365),v={};v.styleTagTransform=b(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=p(),a()(f.A,v),f.A&&f.A.locals&&f.A.locals;let y=[];class x extends HTMLElement{connectedCallback(){this.render()}render(){this.innerHTML='\n      <div class="loading-indicator">\n        <div class="spinner"></div>\n      </div>\n    '}}customElements.define("loading-indicator",x);class g extends HTMLElement{connectedCallback(){this.render()}render(){const n=y.find((n=>n.id===this.getAttribute("id"))),e=(t=n.createdAt,new Date(t).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}));var t;this.innerHTML=`\n      <div class="note-item">\n        <h3>${n.title}</h3>\n        <p>${n.body}</p>\n        <p>Dibuat: ${e}</p>\n        <button class="delete-button" data-id="${n.id}">Hapus</button>\n        <button class="archive-button" data-id="${n.id}">${n.archived?"Pindahkan":"Arsipkan"}</button>\n      </div>\n    `,this.querySelector(".delete-button").addEventListener("click",(e=>{e.preventDefault(),confirm("Apakah Anda yakin ingin menghapus catatan ini?")&&this.dispatchEvent(new CustomEvent("delete-note",{detail:{id:n.id},bubbles:!0}))})),this.querySelector(".archive-button").addEventListener("click",(()=>{this.dispatchEvent(new CustomEvent("archive-note",{detail:{id:n.id},bubbles:!0}))}))}}class C extends HTMLElement{constructor(){super(),this.maxChar=50}static get observedAttributes(){return["max-char"]}attributeChangedCallback(n,e,t){"max-char"===n&&(this.maxChar=parseInt(t,10))}connectedCallback(){this.render(),this.addEventListeners()}render(){this.innerHTML=`\n      <form id="addNoteForm">\n        <input type="text" id="titleInput" placeholder="Judul" required>\n        <span id="charCount">0/${this.maxChar}</span>\n        <div id="titleError" class="error"></div>\n        <textarea id="bodyInput" placeholder="Isi catatan" required></textarea>\n        <div id="bodyError" class="error"></div>\n        <button type="submit">Tambah Catatan</button>\n      </form>\n    `}addEventListeners(){const n=this.querySelector("form"),e=this.querySelector("#titleInput"),t=this.querySelector("#bodyInput"),r=this.querySelector("#charCount"),o=this.querySelector("#titleError"),a=this.querySelector("#bodyError");e.addEventListener("input",(()=>{const n=this.maxChar-e.value.length;r.textContent=`${e.value.length}/${this.maxChar}`,o.textContent=n<0?`Judul melebihi batas maksimum ${this.maxChar} karakter`:""})),t.addEventListener("input",(()=>{""===t.value.trim()?a.textContent="Isi catatan tidak boleh kosong":a.textContent=""})),n.addEventListener("submit",(o=>{o.preventDefault(),this.validateForm()&&(this.dispatchEvent(new CustomEvent("add-note",{detail:{title:e.value,body:t.value},bubbles:!0})),n.reset(),r.textContent=`0/${this.maxChar}`)}))}validateForm(){const n=this.querySelector("#titleInput"),e=this.querySelector("#bodyInput"),t=this.querySelector("#titleError"),r=this.querySelector("#bodyError");let o=!0;return n.value.length>this.maxChar?(t.textContent=`Judul melebihi batas maksimum ${this.maxChar} karakter`,o=!1):t.textContent="",""===e.value.trim()?(r.textContent="Isi catatan tidak boleh kosong",o=!1):r.textContent="",o}}class E extends HTMLElement{connectedCallback(){this.render(),this.addEventListeners()}render(){this.innerHTML='\n      <div class="search-bar">\n        <input type="text" id="searchInput" placeholder="Cari catatan...">\n      </div>\n    '}addEventListeners(){const n=this.querySelector("#searchInput");n.addEventListener("input",(()=>{this.dispatchEvent(new CustomEvent("search-notes",{detail:{searchTerm:n.value},bubbles:!0}))}))}}async function w(n=null){const e=document.querySelector("#activeNotes"),t=document.querySelector("#archivedNotes"),r=n||y;e&&(e.innerHTML=`\n      <div class="note-list">\n        ${r.filter((n=>!n.archived)).map((n=>`<note-item id="${n.id}"></note-item>`)).join("")}\n      </div>\n    `),t&&(t.innerHTML=`\n      <div class="note-list">\n        ${r.filter((n=>n.archived)).map((n=>`<note-item id="${n.id}"></note-item>`)).join("")}\n      </div>\n    `)}customElements.define("note-item",g),customElements.define("add-note-form",C),customElements.define("search-bar",E),document.addEventListener("DOMContentLoaded",(async()=>{const n=document.createElement("loading-indicator");document.body.appendChild(n);try{y=await async function(){const n=await fetch(`${r}/notes`);return(await n.json()).data}(),w()}catch(n){console.error("Failed to fetch notes:",n)}finally{document.body.removeChild(n)}document.addEventListener("add-note",(async e=>{const{title:t,body:o}=e.detail;document.body.appendChild(n);try{const n=await async function(n,e){const t=await fetch(`${r}/notes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:n,body:e})});return(await t.json()).data}(t,o);y.unshift(n),w()}catch(n){console.error("Failed to add note:",n)}finally{document.body.removeChild(n)}})),document.addEventListener("delete-note",(async e=>{document.body.appendChild(n);try{await async function(n){await fetch(`${r}/notes/${n}`,{method:"DELETE"})}(e.detail.id),y=y.filter((n=>n.id!==e.detail.id)),w()}catch(n){console.error("Failed to delete note:",n)}finally{document.body.removeChild(n)}})),document.addEventListener("archive-note",(async n=>{const e=y.find((e=>e.id===n.detail.id));e&&(e.archived=!e.archived,w())})),document.addEventListener("search-notes",(n=>{const e=n.detail.searchTerm.toLowerCase();e?w(y.filter((n=>n.title.toLowerCase().includes(e)||n.body.toLowerCase().includes(e)))):w()})),window.addEventListener("scroll",(function(){const n=document.querySelector("header");window.scrollY>50?n.classList.add("scrolled"):n.classList.remove("scrolled")}))}))})();